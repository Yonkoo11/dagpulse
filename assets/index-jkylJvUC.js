(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const pn=!1;var ar=Array.isArray,cs=Array.prototype.indexOf,ot=Array.prototype.includes,Qt=Array.from,lr=Object.defineProperty,Bt=Object.getOwnPropertyDescriptor,cr=Object.getOwnPropertyDescriptors,fs=Object.prototype,us=Array.prototype,Mn=Object.getPrototypeOf,Ln=Object.isExtensible;const tt=()=>{};function ds(e){return e()}function gn(e){for(var t=0;t<e.length;t++)e[t]()}function fr(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}const q=2,Ut=4,Pt=8,ur=1<<24,Me=16,_e=32,Ve=64,Bn=128,fe=512,G=1024,U=2048,ge=4096,oe=8192,Te=16384,An=32768,it=65536,Gn=1<<17,dr=1<<18,ut=1<<19,hr=1<<20,ke=1<<25,Oe=32768,_n=1<<21,Tn=1<<22,He=1<<23,nt=Symbol("$state"),hs=Symbol(""),Qe=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function vs(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ps(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function gs(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function _s(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function bs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ms(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ws(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function xs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ys(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ss(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ks(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Es=1,Cs=2,vr=4,Ms=8,Bs=16,As=2,K=Symbol(),Ts="http://www.w3.org/1999/xhtml";function Hs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function pr(e){return e===this.v}function gr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function _r(e){return!gr(e,this.v)}let Rt=!1,$s=!1;function Ds(){Rt=!0}let X=null;function at(e){X=e}function je(e,t=!1,n){X={p:X,i:!1,c:null,e:null,s:e,x:null,l:Rt&&!t?{s:null,u:null,$:[]}:null}}function Ke(e){var t=X,n=t.e;if(n!==null){t.e=null;for(var r of n)Rr(r)}return t.i=!0,X=t.p,{}}function dt(){return!Rt||X!==null&&X.l===null}let et=[];function Ps(){var e=et;et=[],gn(e)}function Ee(e){if(et.length===0){var t=et;queueMicrotask(()=>{t===et&&Ps()})}et.push(e)}function br(e){var t=E;if(t===null)return y.f|=He,e;if((t.f&An)===0){if((t.f&Bn)===0)throw e;t.b.error(e)}else lt(e,t)}function lt(e,t){for(;t!==null;){if((t.f&Bn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Rs=-7169;function I(e,t){e.f=e.f&Rs|t}function Hn(e){(e.f&fe)!==0||e.deps===null?I(e,G):I(e,ge)}function mr(e){if(e!==null)for(const t of e)(t.f&q)===0||(t.f&Oe)===0||(t.f^=Oe,mr(t.deps))}function wr(e,t,n){(e.f&U)!==0?t.add(e):(e.f&ge)!==0&&n.add(e),mr(e.deps),I(e,G)}const Gt=new Set;let T=null,he=null,le=[],$n=null,bn=!1;class $e{committed=!1;current=new Map;previous=new Map;#t=new Set;#a=new Set;#e=0;#o=0;#i=null;#r=new Set;#n=new Set;#s=new Map;is_fork=!1;#l=!1;is_deferred(){return this.is_fork||this.#o>0}skip_effect(t){this.#s.has(t)||this.#s.set(t,{d:[],m:[]})}unskip_effect(t){var n=this.#s.get(t);if(n){this.#s.delete(t);for(var r of n.d)I(r,U),ve(r);for(r of n.m)I(r,ge),ve(r)}}process(t){le=[],this.apply();var n=[],r=[];for(const s of t)this.#c(s,n,r);if(this.is_deferred()){this.#f(r),this.#f(n);for(const[s,o]of this.#s)Sr(s,o)}else{for(const s of this.#t)s();this.#t.clear(),this.#e===0&&this.#u(),T=null,Vn(r),Vn(n),this.#i?.resolve()}he=null}#c(t,n,r){t.f^=G;for(var s=t.first,o=null;s!==null;){var a=s.f,i=(a&(_e|Ve))!==0,l=i&&(a&G)!==0,c=l||(a&oe)!==0||this.#s.has(s);if(!c&&s.fn!==null){i?s.f^=G:o!==null&&(a&(Ut|Pt|ur))!==0?o.b.defer_effect(s):(a&Ut)!==0?n.push(s):Xt(s)&&((a&Me)!==0&&this.#n.add(s),$t(s));var u=s.first;if(u!==null){s=u;continue}}var h=s.parent;for(s=s.next;s===null&&h!==null;)h===o&&(o=null),s=h.next,h=h.parent}}#f(t){for(var n=0;n<t.length;n+=1)wr(t[n],this.#r,this.#n)}capture(t,n){n!==K&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&He)===0&&(this.current.set(t,t.v),he?.set(t,t.v))}activate(){T=this,this.apply()}deactivate(){T===this&&(T=null,he=null)}flush(){if(this.activate(),le.length>0){if(Is(),T!==null&&T!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#a)t(this);this.#a.clear()}#u(){if(Gt.size>1){this.previous.clear();var t=he,n=!0;for(const s of Gt){if(s===this){n=!1;continue}const o=[];for(const[i,l]of this.current){if(s.current.has(i))if(n&&l!==s.current.get(i))s.current.set(i,l);else continue;o.push(i)}if(o.length===0)continue;const a=[...s.current.keys()].filter(i=>!this.current.has(i));if(a.length>0){var r=le;le=[];const i=new Set,l=new Map;for(const c of o)xr(c,a,i,l);if(le.length>0){T=s,s.apply();for(const c of le)s.#c(c,[],[]);s.deactivate()}le=r}}T=null,he=t}this.committed=!0,Gt.delete(this)}increment(t){this.#e+=1,t&&(this.#o+=1)}decrement(t){this.#e-=1,t&&(this.#o-=1),!this.#l&&(this.#l=!0,Ee(()=>{this.#l=!1,this.is_deferred()?le.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#r)this.#n.delete(t),I(t,U),ve(t);for(const t of this.#n)I(t,ge),ve(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#a.add(t)}settled(){return(this.#i??=fr()).promise}static ensure(){if(T===null){const t=T=new $e;Gt.add(T),Ee(()=>{T===t&&t.flush()})}return T}apply(){}}function Is(){bn=!0;var e=null;try{for(var t=0;le.length>0;){var n=$e.ensure();if(t++>1e3){var r,s;Xs()}n.process(le),De.clear()}}finally{le=[],bn=!1,$n=null}}function Xs(){try{ws()}catch(e){lt(e,$n)}}let Se=null;function Vn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Te|oe))===0&&Xt(r)&&(Se=new Set,$t(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?Nr(r):r.fn=null),Se?.size>0)){De.clear();for(const s of Se){if((s.f&(Te|oe))!==0)continue;const o=[s];let a=s.parent;for(;a!==null;)Se.has(a)&&(Se.delete(a),o.push(a)),a=a.parent;for(let i=o.length-1;i>=0;i--){const l=o[i];(l.f&(Te|oe))===0&&$t(l)}}Se.clear()}}Se=null}}function xr(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const s of e.reactions){const o=s.f;(o&q)!==0?xr(s,t,n,r):(o&(Tn|Me))!==0&&(o&U)===0&&yr(s,t,r)&&(I(s,U),ve(s))}}function yr(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const s of e.deps){if(ot.call(t,s))return!0;if((s.f&q)!==0&&yr(s,t,n))return n.set(s,!0),!0}return n.set(e,!1),!1}function ve(e){for(var t=$n=e;t.parent!==null;){t=t.parent;var n=t.f;if(bn&&t===E&&(n&Me)!==0&&(n&dr)===0)return;if((n&(Ve|_e))!==0){if((n&G)===0)return;t.f^=G}}le.push(t)}function Sr(e,t){if(!((e.f&_e)!==0&&(e.f&G)!==0)){(e.f&U)!==0?t.d.push(e):(e.f&ge)!==0&&t.m.push(e),I(e,G);for(var n=e.first;n!==null;)Sr(n,t),n=n.next}}function Ys(e){let t=0,n=Le(0),r;return()=>{In()&&(g(n),Ir(()=>(t===0&&(r=ht(()=>e(()=>At(n)))),t+=1,()=>{Ee(()=>{t-=1,t===0&&(r?.(),r=void 0,At(n))})})))}}var Ns=it|ut|Bn;function Fs(e,t,n){new Os(e,t,n)}class Os{parent;is_pending=!1;#t;#a=null;#e;#o;#i;#r=null;#n=null;#s=null;#l=null;#c=null;#f=0;#u=0;#v=!1;#h=!1;#p=new Set;#g=new Set;#d=null;#x=Ys(()=>(this.#d=Le(this.#f),()=>{this.#d=null}));constructor(t,n,r){this.#t=t,this.#e=n,this.#o=r,this.parent=E.b,this.is_pending=!!this.#e.pending,this.#i=tn(()=>{E.b=this;{var s=this.#m();try{this.#r=ce(()=>r(s))}catch(o){this.error(o)}this.#u>0?this.#b():this.is_pending=!1}return()=>{this.#c?.remove()}},Ns)}#y(){try{this.#r=ce(()=>this.#o(this.#t))}catch(t){this.error(t)}}#S(){const t=this.#e.pending;t&&(this.#n=ce(()=>t(this.#t)),Ee(()=>{var n=this.#m();this.#r=this.#_(()=>($e.ensure(),ce(()=>this.#o(n)))),this.#u>0?this.#b():(Ne(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#m(){var t=this.#t;return this.is_pending&&(this.#c=Ce(),this.#t.before(this.#c),t=this.#c),t}defer_effect(t){wr(t,this.#p,this.#g)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#_(t){var n=E,r=y,s=X;we(this.#i),de(this.#i),at(this.#i.ctx);try{return t()}catch(o){return br(o),null}finally{we(n),de(r),at(s)}}#b(){const t=this.#e.pending;this.#r!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#c),zr(this.#r,this.#l)),this.#n===null&&(this.#n=ce(()=>t(this.#t)))}#w(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#w(t);return}if(this.#u+=t,this.#u===0){this.is_pending=!1;for(const n of this.#p)I(n,U),ve(n);for(const n of this.#g)I(n,ge),ve(n);this.#p.clear(),this.#g.clear(),this.#n&&Ne(this.#n,()=>{this.#n=null}),this.#l&&(this.#t.before(this.#l),this.#l=null)}}update_pending_count(t){this.#w(t),this.#f+=t,!(!this.#d||this.#v)&&(this.#v=!0,Ee(()=>{this.#v=!1,this.#d&&ct(this.#d,this.#f)}))}get_effect_pending(){return this.#x(),g(this.#d)}error(t){var n=this.#e.onerror;let r=this.#e.failed;if(this.#h||!n&&!r)throw t;this.#r&&(te(this.#r),this.#r=null),this.#n&&(te(this.#n),this.#n=null),this.#s&&(te(this.#s),this.#s=null);var s=!1,o=!1;const a=()=>{if(s){Hs();return}s=!0,o&&ks(),$e.ensure(),this.#f=0,this.#s!==null&&Ne(this.#s,()=>{this.#s=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#_(()=>(this.#h=!1,ce(()=>this.#o(this.#t)))),this.#u>0?this.#b():this.is_pending=!1};Ee(()=>{try{o=!0,n?.(t,a),o=!1}catch(i){lt(i,this.#i&&this.#i.parent)}r&&(this.#s=this.#_(()=>{$e.ensure(),this.#h=!0;try{return ce(()=>{r(this.#t,()=>t,()=>a)})}catch(i){return lt(i,this.#i.parent),null}finally{this.#h=!1}}))})}}function zs(e,t,n,r){const s=dt()?en:kr;var o=e.filter(f=>!f.settled);if(n.length===0&&o.length===0){r(t.map(s));return}var a=T,i=E,l=Ls(),c=o.length===1?o[0].promise:o.length>1?Promise.all(o.map(f=>f.promise)):null;function u(f){l();try{r(f)}catch(v){(i.f&Te)===0&&lt(v,i)}a?.deactivate(),mn()}if(n.length===0){c.then(()=>u(t.map(s)));return}function h(){l(),Promise.all(n.map(f=>Gs(f))).then(f=>u([...t.map(s),...f])).catch(f=>lt(f,i))}c?c.then(h):h()}function Ls(){var e=E,t=y,n=X,r=T;return function(o=!0){we(e),de(t),at(n),o&&r?.activate()}}function mn(){we(null),de(null),at(null)}function en(e){var t=q|U,n=y!==null&&(y.f&q)!==0?y:null;return E!==null&&(E.f|=ut),{ctx:X,deps:null,effects:null,equals:pr,f:t,fn:e,reactions:null,rv:0,v:K,wv:0,parent:n??E,ac:null}}function Gs(e,t,n){let r=E;r===null&&ps();var s=r.b,o=void 0,a=Le(K),i=!y,l=new Map;return Qs(()=>{var c=fr();o=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject).then(()=>{u===T&&u.committed&&u.deactivate(),mn()})}catch(v){c.reject(v),mn()}var u=T;if(i){var h=s.is_rendered();s.update_pending_count(1),u.increment(h),l.get(u)?.reject(Qe),l.delete(u),l.set(u,c)}const f=(v,d=void 0)=>{if(u.activate(),d)d!==Qe&&(a.f|=He,ct(a,d));else{(a.f&He)!==0&&(a.f^=He),ct(a,v);for(const[m,p]of l){if(l.delete(m),m===u)break;p.reject(Qe)}}i&&(s.update_pending_count(-1),u.decrement(h))};c.promise.then(f,v=>f(null,v||"unknown"))}),Xn(()=>{for(const c of l.values())c.reject(Qe)}),new Promise(c=>{function u(h){function f(){h===o?c(a):u(o)}h.then(f,f)}u(o)})}function ze(e){const t=en(e);return Lr(t),t}function kr(e){const t=en(e);return t.equals=_r,t}function Er(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)te(t[n])}}function Vs(e){for(var t=e.parent;t!==null;){if((t.f&q)===0)return(t.f&Te)===0?t:null;t=t.parent}return null}function Dn(e){var t,n=E;we(Vs(e));try{e.f&=~Oe,Er(e),t=Kr(e)}finally{we(n)}return t}function Cr(e){var t=Dn(e);if(!e.equals(t)&&(e.wv=Vr(),(!T?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){I(e,G);return}Ge||(he!==null?(In()||T?.is_fork)&&he.set(e,t):Hn(e))}let wn=new Set;const De=new Map;let Mr=!1;function Le(e,t){var n={f:0,v:e,reactions:null,equals:pr,rv:0,wv:0};return n}function Q(e,t){const n=Le(e);return Lr(n),n}function Wt(e,t=!1,n=!0){const r=Le(e);return t||(r.equals=_r),Rt&&n&&X!==null&&X.l!==null&&(X.l.s??=[]).push(r),r}function wt(e,t){return R(e,ht(()=>g(e))),t}function R(e,t,n=!1){y!==null&&(!pe||(y.f&Gn)!==0)&&dt()&&(y.f&(q|Me|Tn|Gn))!==0&&(ue===null||!ot.call(ue,e))&&Ss();let r=n?kt(t):t;return ct(e,r)}function ct(e,t){if(!e.equals(t)){var n=e.v;Ge?De.set(e,t):De.set(e,n),e.v=t;var r=$e.ensure();if(r.capture(e,n),(e.f&q)!==0){const s=e;(e.f&U)!==0&&Dn(s),Hn(s)}e.wv=Vr(),Ar(e,U),dt()&&E!==null&&(E.f&G)!==0&&(E.f&(_e|Ve))===0&&(ae===null?no([e]):ae.push(e)),!r.is_fork&&wn.size>0&&!Mr&&js()}return t}function js(){Mr=!1;for(const e of wn)(e.f&G)!==0&&I(e,ge),Xt(e)&&$t(e);wn.clear()}function Br(e,t=1){var n=g(e),r=t===1?n++:n--;return R(e,n),r}function At(e){R(e,e.v+1)}function Ar(e,t){var n=e.reactions;if(n!==null)for(var r=dt(),s=n.length,o=0;o<s;o++){var a=n[o],i=a.f;if(!(!r&&a===E)){var l=(i&U)===0;if(l&&I(a,t),(i&q)!==0){var c=a;he?.delete(c),(i&Oe)===0&&(i&fe&&(a.f|=Oe),Ar(c,ge))}else l&&((i&Me)!==0&&Se!==null&&Se.add(a),ve(a))}}}function kt(e){if(typeof e!="object"||e===null||nt in e)return e;const t=Mn(e);if(t!==fs&&t!==us)return e;var n=new Map,r=ar(e),s=Q(0),o=Fe,a=i=>{if(Fe===o)return i();var l=y,c=Fe;de(null),qn(o);var u=i();return de(l),qn(c),u};return r&&n.set("length",Q(e.length)),new Proxy(e,{defineProperty(i,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&xs();var u=n.get(l);return u===void 0?u=a(()=>{var h=Q(c.value);return n.set(l,h),h}):R(u,c.value,!0),!0},deleteProperty(i,l){var c=n.get(l);if(c===void 0){if(l in i){const u=a(()=>Q(K));n.set(l,u),At(s)}}else R(c,K),At(s);return!0},get(i,l,c){if(l===nt)return e;var u=n.get(l),h=l in i;if(u===void 0&&(!h||Bt(i,l)?.writable)&&(u=a(()=>{var v=kt(h?i[l]:K),d=Q(v);return d}),n.set(l,u)),u!==void 0){var f=g(u);return f===K?void 0:f}return Reflect.get(i,l,c)},getOwnPropertyDescriptor(i,l){var c=Reflect.getOwnPropertyDescriptor(i,l);if(c&&"value"in c){var u=n.get(l);u&&(c.value=g(u))}else if(c===void 0){var h=n.get(l),f=h?.v;if(h!==void 0&&f!==K)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(i,l){if(l===nt)return!0;var c=n.get(l),u=c!==void 0&&c.v!==K||Reflect.has(i,l);if(c!==void 0||E!==null&&(!u||Bt(i,l)?.writable)){c===void 0&&(c=a(()=>{var f=u?kt(i[l]):K,v=Q(f);return v}),n.set(l,c));var h=g(c);if(h===K)return!1}return u},set(i,l,c,u){var h=n.get(l),f=l in i;if(r&&l==="length")for(var v=c;v<h.v;v+=1){var d=n.get(v+"");d!==void 0?R(d,K):v in i&&(d=a(()=>Q(K)),n.set(v+"",d))}if(h===void 0)(!f||Bt(i,l)?.writable)&&(h=a(()=>Q(void 0)),R(h,kt(c)),n.set(l,h));else{f=h.v!==K;var m=a(()=>kt(c));R(h,m)}var p=Reflect.getOwnPropertyDescriptor(i,l);if(p?.set&&p.set.call(u,c),!f){if(r&&typeof l=="string"){var b=n.get("length"),F=Number(l);Number.isInteger(F)&&F>=b.v&&R(b,F+1)}At(s)}return!0},ownKeys(i){g(s);var l=Reflect.ownKeys(i).filter(h=>{var f=n.get(h);return f===void 0||f.v!==K});for(var[c,u]of n)u.v!==K&&!(c in i)&&l.push(c);return l},setPrototypeOf(){ys()}})}var jn,Tr,Hr,$r;function Ks(){if(jn===void 0){jn=window,Tr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Hr=Bt(t,"firstChild").get,$r=Bt(t,"nextSibling").get,Ln(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ln(n)&&(n.__t=void 0)}}function Ce(e=""){return document.createTextNode(e)}function Pn(e){return Hr.call(e)}function It(e){return $r.call(e)}function w(e,t){return Pn(e)}function jt(e,t=!1){{var n=Pn(e);return n instanceof Comment&&n.data===""?It(n):n}}function x(e,t=1,n=!1){let r=e;for(;t--;)r=It(r);return r}function qs(e){e.textContent=""}function Dr(){return!1}function Rn(e){var t=y,n=E;de(null),we(null);try{return e()}finally{de(t),we(n)}}function Pr(e){E===null&&(y===null&&ms(),bs()),Ge&&_s()}function Us(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function xe(e,t,n){var r=E;r!==null&&(r.f&oe)!==0&&(e|=oe);var s={ctx:X,deps:null,nodes:null,f:e|U|fe,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{$t(s),s.f|=An}catch(i){throw te(s),i}else t!==null&&ve(s);var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes===null&&o.first===o.last&&(o.f&ut)===0&&(o=o.first,(e&Me)!==0&&(e&it)!==0&&o!==null&&(o.f|=it)),o!==null&&(o.parent=r,r!==null&&Us(o,r),y!==null&&(y.f&q)!==0&&(e&Ve)===0)){var a=y;(a.effects??=[]).push(o)}return s}function In(){return y!==null&&!pe}function Xn(e){const t=xe(Pt,null,!1);return I(t,G),t.teardown=e,t}function ft(e){Pr();var t=E.f,n=!y&&(t&_e)!==0&&(t&An)===0;if(n){var r=X;(r.e??=[]).push(e)}else return Rr(e)}function Rr(e){return xe(Ut|hr,e,!1)}function Ws(e){return Pr(),xe(Pt|hr,e,!0)}function Zs(e){$e.ensure();const t=xe(Ve|ut,e,!0);return(n={})=>new Promise(r=>{n.outro?Ne(t,()=>{te(t),r(void 0)}):(te(t),r(void 0))})}function Js(e){return xe(Ut,e,!1)}function Qs(e){return xe(Tn|ut,e,!0)}function Ir(e,t=0){return xe(Pt|t,e,!0)}function se(e,t=[],n=[],r=[]){zs(r,t,n,s=>{xe(Pt,()=>e(...s.map(g)),!0)})}function tn(e,t=0){var n=xe(Me|t,e,!0);return n}function ce(e){return xe(_e|ut,e,!0)}function Xr(e){var t=e.teardown;if(t!==null){const n=Ge,r=y;Kn(!0),de(null);try{t.call(null)}finally{Kn(n),de(r)}}}function Yr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&Rn(()=>{s.abort(Qe)});var r=n.next;(n.f&Ve)!==0?n.parent=null:te(n,t),n=r}}function eo(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&_e)===0&&te(t),t=n}}function te(e,t=!0){var n=!1;(t||(e.f&dr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(to(e.nodes.start,e.nodes.end),n=!0),Yr(e,t&&!n),Zt(e,0),I(e,Te);var r=e.nodes&&e.nodes.t;if(r!==null)for(const o of r)o.stop();Xr(e);var s=e.parent;s!==null&&s.first!==null&&Nr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function to(e,t){for(;e!==null;){var n=e===t?null:It(e);e.remove(),e=n}}function Nr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ne(e,t,n=!0){var r=[];Fr(e,r,!0);var s=()=>{n&&te(e),t&&t()},o=r.length;if(o>0){var a=()=>--o||s();for(var i of r)i.out(a)}else s()}function Fr(e,t,n){if((e.f&oe)===0){e.f^=oe;var r=e.nodes&&e.nodes.t;if(r!==null)for(const i of r)(i.is_global||n)&&t.push(i);for(var s=e.first;s!==null;){var o=s.next,a=(s.f&it)!==0||(s.f&_e)!==0&&(e.f&Me)!==0;Fr(s,t,a?n:!1),s=o}}}function Yn(e){Or(e,!0)}function Or(e,t){if((e.f&oe)!==0){e.f^=oe,(e.f&G)===0&&(I(e,U),ve(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&it)!==0||(n.f&_e)!==0;Or(n,s?t:!1),n=r}var o=e.nodes&&e.nodes.t;if(o!==null)for(const a of o)(a.is_global||t)&&a.in()}}function zr(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var s=n===r?null:It(n);t.append(n),n=s}}let Kt=!1,Ge=!1;function Kn(e){Ge=e}let y=null,pe=!1;function de(e){y=e}let E=null;function we(e){E=e}let ue=null;function Lr(e){y!==null&&(ue===null?ue=[e]:ue.push(e))}let ee=null,re=0,ae=null;function no(e){ae=e}let Gr=1,Ye=0,Fe=Ye;function qn(e){Fe=e}function Vr(){return++Gr}function Xt(e){var t=e.f;if((t&U)!==0)return!0;if(t&q&&(e.f&=~Oe),(t&ge)!==0){for(var n=e.deps,r=n.length,s=0;s<r;s++){var o=n[s];if(Xt(o)&&Cr(o),o.wv>e.wv)return!0}(t&fe)!==0&&he===null&&I(e,G)}return!1}function jr(e,t,n=!0){var r=e.reactions;if(r!==null&&!(ue!==null&&ot.call(ue,e)))for(var s=0;s<r.length;s++){var o=r[s];(o.f&q)!==0?jr(o,t,!1):t===o&&(n?I(o,U):(o.f&G)!==0&&I(o,ge),ve(o))}}function Kr(e){var t=ee,n=re,r=ae,s=y,o=ue,a=X,i=pe,l=Fe,c=e.f;ee=null,re=0,ae=null,y=(c&(_e|Ve))===0?e:null,ue=null,at(e.ctx),pe=!1,Fe=++Ye,e.ac!==null&&(Rn(()=>{e.ac.abort(Qe)}),e.ac=null);try{e.f|=_n;var u=e.fn,h=u(),f=e.deps,v=T?.is_fork;if(ee!==null){var d;if(v||Zt(e,re),f!==null&&re>0)for(f.length=re+ee.length,d=0;d<ee.length;d++)f[re+d]=ee[d];else e.deps=f=ee;if(In()&&(e.f&fe)!==0)for(d=re;d<f.length;d++)(f[d].reactions??=[]).push(e)}else!v&&f!==null&&re<f.length&&(Zt(e,re),f.length=re);if(dt()&&ae!==null&&!pe&&f!==null&&(e.f&(q|ge|U))===0)for(d=0;d<ae.length;d++)jr(ae[d],e);if(s!==null&&s!==e){if(Ye++,s.deps!==null)for(let m=0;m<n;m+=1)s.deps[m].rv=Ye;if(t!==null)for(const m of t)m.rv=Ye;ae!==null&&(r===null?r=ae:r.push(...ae))}return(e.f&He)!==0&&(e.f^=He),h}catch(m){return br(m)}finally{e.f^=_n,ee=t,re=n,ae=r,y=s,ue=o,at(a),pe=i,Fe=l}}function ro(e,t){let n=t.reactions;if(n!==null){var r=cs.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}if(n===null&&(t.f&q)!==0&&(ee===null||!ot.call(ee,t))){var o=t;(o.f&fe)!==0&&(o.f^=fe,o.f&=~Oe),Hn(o),Er(o),Zt(o,0)}}function Zt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ro(e,n[r])}function $t(e){var t=e.f;if((t&Te)===0){I(e,G);var n=E,r=Kt;E=e,Kt=!0;try{(t&(Me|ur))!==0?eo(e):Yr(e),Xr(e);var s=Kr(e);e.teardown=typeof s=="function"?s:null,e.wv=Gr;var o;pn&&$s&&(e.f&U)!==0&&e.deps}finally{Kt=r,E=n}}}function g(e){var t=e.f,n=(t&q)!==0;if(y!==null&&!pe){var r=E!==null&&(E.f&Te)!==0;if(!r&&(ue===null||!ot.call(ue,e))){var s=y.deps;if((y.f&_n)!==0)e.rv<Ye&&(e.rv=Ye,ee===null&&s!==null&&s[re]===e?re++:ee===null?ee=[e]:ee.push(e));else{(y.deps??=[]).push(e);var o=e.reactions;o===null?e.reactions=[y]:ot.call(o,y)||o.push(y)}}}if(Ge&&De.has(e))return De.get(e);if(n){var a=e;if(Ge){var i=a.v;return((a.f&G)===0&&a.reactions!==null||Ur(a))&&(i=Dn(a)),De.set(a,i),i}var l=(a.f&fe)===0&&!pe&&y!==null&&(Kt||(y.f&fe)!==0),c=a.deps===null;Xt(a)&&(l&&(a.f|=fe),Cr(a)),l&&!c&&qr(a)}if(he?.has(e))return he.get(e);if((e.f&He)!==0)throw e.v;return e.v}function qr(e){if(e.deps!==null){e.f|=fe;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&q)!==0&&(t.f&fe)===0&&qr(t)}}function Ur(e){if(e.v===K)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(De.has(t)||(t.f&q)!==0&&Ur(t))return!0;return!1}function ht(e){var t=pe;try{return pe=!0,e()}finally{pe=t}}function so(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(nt in e)xn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&nt in n&&xn(n)}}}function xn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{xn(e[r],t)}catch{}const n=Mn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=cr(n);for(let s in r){const o=r[s].get;if(o)try{o.call(e)}catch{}}}}}const oo=["touchstart","touchmove"];function io(e){return oo.includes(e)}const Wr=new Set,yn=new Set;function ao(e,t,n,r={}){function s(o){if(r.capture||Et.call(t,o),!o.cancelBubble)return Rn(()=>n?.call(this,o))}return Ee(()=>{t.addEventListener(e,s,r)}),s}function lo(e,t,n,r,s){var o={capture:r,passive:s},a=ao(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Xn(()=>{t.removeEventListener(e,a,o)})}function Nn(e){for(var t=0;t<e.length;t++)Wr.add(e[t]);for(var n of yn)n(e)}let Un=null;function Et(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],o=s[0]||e.target;Un=e;var a=0,i=Un===e&&e.__root;if(i){var l=s.indexOf(i);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var c=s.indexOf(t);if(c===-1)return;l<=c&&(a=l)}if(o=s[a]||e.target,o!==t){lr(e,"currentTarget",{configurable:!0,get(){return o||n}});var u=y,h=E;de(null),we(null);try{for(var f,v=[];o!==null;){var d=o.assignedSlot||o.parentNode||o.host||null;try{var m=o["__"+r];m!=null&&(!o.disabled||e.target===o)&&m.call(o,e)}catch(p){f?v.push(p):f=p}if(e.cancelBubble||d===t||d===null)break;o=d}if(f){for(let p of v)queueMicrotask(()=>{throw p});throw f}}finally{e.__root=t,delete e.currentTarget,de(u),we(h)}}}function co(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Fn(e,t){var n=E;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function N(e,t){var n=(t&As)!==0,r,s=!e.startsWith("<!>");return()=>{r===void 0&&(r=co(s?e:"<!>"+e),r=Pn(r));var o=n||Tr?document.importNode(r,!0):r.cloneNode(!0);return Fn(o,o),o}}function fn(e=""){{var t=Ce(e+"");return Fn(t,t),t}}function qt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ce();return e.append(t,n),Fn(t,n),e}function C(e,t){e!==null&&e.before(t)}function O(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function fo(e,t){return uo(e,t)}const We=new Map;function uo(e,{target:t,anchor:n,props:r={},events:s,context:o,intro:a=!0}){Ks();var i=new Set,l=h=>{for(var f=0;f<h.length;f++){var v=h[f];if(!i.has(v)){i.add(v);var d=io(v);t.addEventListener(v,Et,{passive:d});var m=We.get(v);m===void 0?(document.addEventListener(v,Et,{passive:d}),We.set(v,1)):We.set(v,m+1)}}};l(Qt(Wr)),yn.add(l);var c=void 0,u=Zs(()=>{var h=n??t.appendChild(Ce());return Fs(h,{pending:()=>{}},f=>{je({});var v=X;o&&(v.c=o),s&&(r.$$events=s),c=e(f,r)||{},Ke()}),()=>{for(var f of i){t.removeEventListener(f,Et);var v=We.get(f);--v===0?(document.removeEventListener(f,Et),We.delete(f)):We.set(f,v)}yn.delete(l),h!==n&&h.parentNode?.removeChild(h)}});return ho.set(c,u),c}let ho=new WeakMap;class Zr{anchor;#t=new Map;#a=new Map;#e=new Map;#o=new Set;#i=!0;constructor(t,n=!0){this.anchor=t,this.#i=n}#r=()=>{var t=T;if(this.#t.has(t)){var n=this.#t.get(t),r=this.#a.get(n);if(r)Yn(r),this.#o.delete(n);else{var s=this.#e.get(n);s&&(this.#a.set(n,s.effect),this.#e.delete(n),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[o,a]of this.#t){if(this.#t.delete(o),o===t)break;const i=this.#e.get(a);i&&(te(i.effect),this.#e.delete(a))}for(const[o,a]of this.#a){if(o===n||this.#o.has(o))continue;const i=()=>{if(Array.from(this.#t.values()).includes(o)){var c=document.createDocumentFragment();zr(a,c),c.append(Ce()),this.#e.set(o,{effect:a,fragment:c})}else te(a);this.#o.delete(o),this.#a.delete(o)};this.#i||!r?(this.#o.add(o),Ne(a,i,!1)):i()}}};#n=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[r,s]of this.#e)n.includes(r)||(te(s.effect),this.#e.delete(r))};ensure(t,n){var r=T,s=Dr();if(n&&!this.#a.has(t)&&!this.#e.has(t))if(s){var o=document.createDocumentFragment(),a=Ce();o.append(a),this.#e.set(t,{effect:ce(()=>n(a)),fragment:o})}else this.#a.set(t,ce(()=>n(this.anchor)));if(this.#t.set(r,t),s){for(const[i,l]of this.#a)i===t?r.unskip_effect(l):r.skip_effect(l);for(const[i,l]of this.#e)i===t?r.unskip_effect(l.effect):r.skip_effect(l.effect);r.oncommit(this.#r),r.ondiscard(this.#n)}else this.#r()}}function me(e,t,n=!1){var r=new Zr(e),s=n?it:0;function o(a,i){r.ensure(a,i)}tn(()=>{var a=!1;t((i,l=!0)=>{a=!0,o(l,i)}),a||o(!1,null)},s)}const vo=Symbol("NaN");function po(e,t,n){var r=new Zr(e),s=!dt();tn(()=>{var o=t();o!==o&&(o=vo),s&&o!==null&&typeof o=="object"&&(o={}),r.ensure(o,n)})}function Wn(e,t){return t}function go(e,t,n){for(var r=[],s=t.length,o,a=t.length,i=0;i<s;i++){let h=t[i];Ne(h,()=>{if(o){if(o.pending.delete(h),o.done.add(h),o.pending.size===0){var f=e.outrogroups;Sn(Qt(o.done)),f.delete(o),f.size===0&&(e.outrogroups=null)}}else a-=1},!1)}if(a===0){var l=r.length===0&&n!==null;if(l){var c=n,u=c.parentNode;qs(u),u.append(c),e.items.clear()}Sn(t,!l)}else o={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(o)}function Sn(e,t=!0){for(var n=0;n<e.length;n++)te(e[n],t)}var Zn;function kn(e,t,n,r,s,o=null){var a=e,i=new Map,l=(t&vr)!==0;if(l){var c=e;a=c.appendChild(Ce())}var u=null,h=kr(()=>{var b=n();return ar(b)?b:b==null?[]:Qt(b)}),f,v=!0;function d(){p.fallback=u,_o(p,f,a,t,r),u!==null&&(f.length===0?(u.f&ke)===0?Yn(u):(u.f^=ke,Ct(u,null,a)):Ne(u,()=>{u=null}))}var m=tn(()=>{f=g(h);for(var b=f.length,F=new Set,V=T,M=Dr(),A=0;A<b;A+=1){var z=f[A],$=r(z,A),S=v?null:i.get($);S?(S.v&&ct(S.v,z),S.i&&ct(S.i,A),M&&V.unskip_effect(S.e)):(S=bo(i,v?a:Zn??=Ce(),z,$,A,s,t,n),v||(S.e.f|=ke),i.set($,S)),F.add($)}if(b===0&&o&&!u&&(v?u=ce(()=>o(a)):(u=ce(()=>o(Zn??=Ce())),u.f|=ke)),b>F.size&&gs(),!v)if(M){for(const[L,k]of i)F.has(L)||V.skip_effect(k.e);V.oncommit(d),V.ondiscard(()=>{})}else d();g(h)}),p={effect:m,items:i,outrogroups:null,fallback:u};v=!1}function xt(e){for(;e!==null&&(e.f&_e)===0;)e=e.next;return e}function _o(e,t,n,r,s){var o=(r&Ms)!==0,a=t.length,i=e.items,l=xt(e.effect.first),c,u=null,h,f=[],v=[],d,m,p,b;if(o)for(b=0;b<a;b+=1)d=t[b],m=s(d,b),p=i.get(m).e,(p.f&ke)===0&&(p.nodes?.a?.measure(),(h??=new Set).add(p));for(b=0;b<a;b+=1){if(d=t[b],m=s(d,b),p=i.get(m).e,e.outrogroups!==null)for(const k of e.outrogroups)k.pending.delete(p),k.done.delete(p);if((p.f&ke)!==0)if(p.f^=ke,p===l)Ct(p,null,n);else{var F=u?u.next:l;p===e.effect.last&&(e.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),Ae(e,u,p),Ae(e,p,F),Ct(p,F,n),u=p,f=[],v=[],l=xt(u.next);continue}if((p.f&oe)!==0&&(Yn(p),o&&(p.nodes?.a?.unfix(),(h??=new Set).delete(p))),p!==l){if(c!==void 0&&c.has(p)){if(f.length<v.length){var V=v[0],M;u=V.prev;var A=f[0],z=f[f.length-1];for(M=0;M<f.length;M+=1)Ct(f[M],V,n);for(M=0;M<v.length;M+=1)c.delete(v[M]);Ae(e,A.prev,z.next),Ae(e,u,A),Ae(e,z,V),l=V,u=z,b-=1,f=[],v=[]}else c.delete(p),Ct(p,l,n),Ae(e,p.prev,p.next),Ae(e,p,u===null?e.effect.first:u.next),Ae(e,u,p),u=p;continue}for(f=[],v=[];l!==null&&l!==p;)(c??=new Set).add(l),v.push(l),l=xt(l.next);if(l===null)continue}(p.f&ke)===0&&f.push(p),u=p,l=xt(p.next)}if(e.outrogroups!==null){for(const k of e.outrogroups)k.pending.size===0&&(Sn(Qt(k.done)),e.outrogroups?.delete(k));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||c!==void 0){var $=[];if(c!==void 0)for(p of c)(p.f&oe)===0&&$.push(p);for(;l!==null;)(l.f&oe)===0&&l!==e.fallback&&$.push(l),l=xt(l.next);var S=$.length;if(S>0){var L=(r&vr)!==0&&a===0?n:null;if(o){for(b=0;b<S;b+=1)$[b].nodes?.a?.measure();for(b=0;b<S;b+=1)$[b].nodes?.a?.fix()}go(e,$,L)}}o&&Ee(()=>{if(h!==void 0)for(p of h)p.nodes?.a?.apply()})}function bo(e,t,n,r,s,o,a,i){var l=(a&Es)!==0?(a&Bs)===0?Wt(n,!1,!1):Le(n):null,c=(a&Cs)!==0?Le(s):null;return{v:l,i:c,e:ce(()=>(o(t,l??n,c??s,i),()=>{e.delete(r)}))}}function Ct(e,t,n){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end,o=t&&(t.f&ke)===0?t.nodes.start:n;r!==null;){var a=It(r);if(o.before(r),r===s)return;r=a}}function Ae(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function mo(e,t,n){var r=e==null?"":""+e;return r===""?null:r}function rt(e,t,n,r,s,o){var a=e.__className;if(a!==n||a===void 0){var i=mo(n);i==null?e.removeAttribute("class"):e.className=i,e.__className=n}return o}const wo=Symbol("is custom element"),xo=Symbol("is html");function st(e,t,n,r){var s=yo(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[hs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&So(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function yo(e){return e.__attributes??={[wo]:e.nodeName.includes("-"),[xo]:e.namespaceURI===Ts}}var Jn=new Map;function So(e){var t=e.getAttribute("is")||e.nodeName,n=Jn.get(t);if(n)return n;Jn.set(t,n=[]);for(var r,s=e,o=Element.prototype;o!==s;){r=cr(s);for(var a in r)r[a].set&&n.push(a);s=Mn(s)}return n}function Qn(e,t){return e===t||e?.[nt]===t}function er(e={},t,n,r){return Js(()=>{var s,o;return Ir(()=>{s=o,o=[],ht(()=>{e!==n(...o)&&(t(e,...o),s&&Qn(n(...s),e)&&t(null,...s))})}),()=>{Ee(()=>{o&&Qn(n(...o),e)&&t(null,...o)})}}),e}function ko(e=!1){const t=X,n=t.l.u;if(!n)return;let r=()=>so(t.s);if(e){let s=0,o={};const a=en(()=>{let i=!1;const l=t.s;for(const c in l)l[c]!==o[c]&&(o[c]=l[c],i=!0);return i&&s++,s});r=()=>g(a)}n.b.length&&Ws(()=>{tr(t,r),gn(n.b)}),ft(()=>{const s=ht(()=>n.m.map(ds));return()=>{for(const o of s)typeof o=="function"&&o()}}),n.a.length&&ft(()=>{tr(t,r),gn(n.a)})}function tr(e,t){if(e.l.s)for(const n of e.l.s)g(n);t()}function Jr(e,t,n){if(e==null)return t(void 0),tt;const r=ht(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Ze=[];function be(e,t=tt){let n=null;const r=new Set;function s(i){if(gr(e,i)&&(e=i,n)){const l=!Ze.length;for(const c of r)c[1](),Ze.push(c,e);if(l){for(let c=0;c<Ze.length;c+=2)Ze[c][0](Ze[c+1]);Ze.length=0}}}function o(i){s(i(e))}function a(i,l=tt){const c=[i,l];return r.add(c),r.size===1&&(n=t(s,o)||tt),i(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:a}}function Mt(e){let t;return Jr(e,n=>t=n)(),t}let En=Symbol();function J(e,t,n){const r=n[t]??={store:null,source:Wt(void 0),unsubscribe:tt};if(r.store!==e&&!(En in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=tt;else{var s=!0;r.unsubscribe=Jr(e,o=>{s?r.source.v=o:R(r.source,o)}),s=!1}return e&&En in n?Mt(e):g(r.source)}function qe(){const e={};function t(){Xn(()=>{for(var n in e)e[n].unsubscribe();lr(e,En,{enumerable:!1,value:!0})})}return[e,t]}function un(e,t,n,r){var s=r,o=!0,a=()=>(o&&(o=!1,s=r),s),i;i=e[t],i===void 0&&r!==void 0&&(i=a());var l;return l=()=>{var c=e[t];return c===void 0?a():(o=!0,c)},l}function Qr(e){X===null&&vs(),Rt&&X.l!==null?Eo(X).m.push(e):ft(()=>{const t=ht(e);if(typeof t=="function")return t})}function Eo(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Co="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Co);const nn=be(null),Cn=be("disconnected"),es=be(!1),yt=be(!0);function Tt(e){nn.set(e),es.set(e!==null)}var Mo=N("<div></div>"),Bo=N('<div class="flex items-center gap-1.5 text-xs" role="status" aria-live="polite"><div class="relative" aria-hidden="true"><div></div> <!></div> <span class="text-text-dim"> </span></div>');function Ao(e){const t=()=>J(Cn,"$connectionState",n),[n,r]=qe(),s={disconnected:{color:"bg-gray-500",label:"Offline",icon:"!"},connecting:{color:"bg-yellow-500",label:"Connecting...",icon:"~"},connected:{color:"bg-success",label:"Connected",icon:""},error:{color:"bg-red-500",label:"Error",icon:"!"}};let o=ze(()=>s[t()]||s.disconnected);var a=Bo(),i=w(a),l=w(i),c=x(l,2);{var u=v=>{var d=Mo();se(()=>rt(d,1,`absolute inset-0 w-2 h-2 rounded-full ${g(o).color??""} animate-ping opacity-75`)),C(v,d)};me(c,v=>{t()==="connected"&&v(u)})}var h=x(i,2),f=w(h);se(()=>{rt(l,1,`w-2 h-2 rounded-full ${g(o).color??""}`),O(f,g(o).label)}),C(e,a),r()}var To=N('<button class="text-text-dim hover:text-text transition-colors cursor-pointer bg-transparent border-none p-2"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2" aria-hidden="true"><path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round"></path></svg></button>'),Ho=N('<header class="h-12 flex items-center justify-between px-4 bg-surface/80 backdrop-blur border-b border-border z-50 relative"><nav class="flex items-center gap-3" aria-label="Main navigation"><!> <div class="flex items-center gap-2"><div class="w-6 h-6 rounded-full bg-accent/20 flex items-center justify-center" aria-hidden="true"><div class="w-3 h-3 rounded-full bg-accent animate-glow"></div></div> <h1 class="text-lg font-bold tracking-tight"><span class="text-accent">DAG</span><span class="text-text">Pulse</span></h1></div> <span class="text-xs text-text-dim hidden sm:inline">GHOSTDAG Consensus Visualizer</span></nav> <div class="flex items-center gap-4"><!> <a href="https://github.com/Yonkoo11/dagpulse" target="_blank" rel="noopener noreferrer" class="text-text-dim hover:text-text transition-colors text-xs flex items-center gap-1 p-1" aria-label="View source on GitHub"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"></path></svg> <span class="hidden sm:inline">GitHub</span></a></div></header>');function $o(e,t){let n=un(t,"isMobile",3,!1),r=un(t,"toggleStats",3,()=>{}),s=un(t,"showStats",3,!0);var o=Ho(),a=w(o),i=w(a);{var l=h=>{var f=To();f.__click=function(...v){r()?.apply(this,v)},se(()=>{st(f,"aria-label",s()?"Hide stats panel":"Show stats panel"),st(f,"aria-expanded",s())}),C(h,f)};me(i,h=>{n()&&h(l)})}var c=x(a,2),u=w(c);Ao(u),C(e,o)}Nn(["click"]);const Do=150,Jt=be([]),Ht=be(new Map),nr=be([]),rr=be([]),rn=be(0),On=be(0);function Po(e,t){for(const s of e)s.isVirtualChain=!1;if(e.length===0)return;let n=e[0];for(const s of e)s.daaScore>n.daaScore&&(n=s);let r=n;for(;r&&(r.isVirtualChain=!0,r.selectedParentHash);)r=t.get(r.selectedParentHash)}function Ro(e){const t=Date.now();Jt.update(i=>{if(i.push(e),i.length>Do){const l=i.shift();Ht.update(c=>(c.delete(l.hash),c))}return i}),Ht.update(i=>(i.set(e.hash,e),i));const n=Mt(Jt),r=Mt(Ht);Po(n,r),nr.update(i=>{i.push(t);const l=t-3e3;for(;i.length>0&&i[0]<l;)i.shift();return i}),rr.update(i=>(i.push(e.txCount),i.length>30&&i.shift(),i));const s=Mt(nr);rn.set(s.length/3);const a=Mt(rr).reduce((i,l)=>i+l,0);On.set(a/3)}const ts=be({blocksPerSecond:0,txPerSecond:0,hashrate:"---",blueScore:0,daaScore:0,peerCount:0,mempoolSize:0,blocksSeen:0,isConnected:!1,isSynced:!1,serverVersion:""});function dn(e){ts.update(t=>({...t,...e}))}function sr(e){return e>=1e9?(e/1e9).toFixed(2)+"B":e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toFixed(1)}function Io(e){return new Date(e).toLocaleTimeString(void 0,{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}function hn(e,t=8){return e.length<=t*2+3?e:e.slice(0,t)+"..."+e.slice(-t)}var Xo=N('<div class="text-xl font-bold tabular-nums text-accent animate-stat-pulse"> </div>'),Yo=N("<div> </div>"),No=N('<div class="animate-fade-in"><div class="text-[10px] text-text-dim uppercase tracking-wider mb-0.5"> </div> <!></div>'),Fo=N('<div class="w-56 bg-surface/60 backdrop-blur border-r border-border flex flex-col overflow-y-auto"><div class="p-3 border-b border-border"><h2 class="text-xs font-semibold text-text-dim uppercase tracking-wider">Network Stats</h2></div> <div class="flex-1 p-3 space-y-3"></div> <div class="p-3 border-t border-border"><h3 class="text-[10px] text-text-dim uppercase tracking-wider mb-2">Confirmation Speed</h3> <div class="space-y-1.5"><div class="flex items-center gap-2"><div class="w-full bg-bg rounded-full h-2 overflow-hidden"><div class="h-full bg-accent rounded-full" style="width: 2%"></div></div> <span class="text-[10px] text-accent font-mono whitespace-nowrap">KAS 1s</span></div> <div class="flex items-center gap-2"><div class="w-full bg-bg rounded-full h-2 overflow-hidden"><div class="h-full bg-purple-500/60 rounded-full" style="width: 12%"></div></div> <span class="text-[10px] text-text-dim font-mono whitespace-nowrap">ETH 12s</span></div> <div class="flex items-center gap-2"><div class="w-full bg-bg rounded-full h-2 overflow-hidden"><div class="h-full bg-orange-500/60 rounded-full" style="width: 100%"></div></div> <span class="text-[10px] text-text-dim font-mono whitespace-nowrap">BTC 10m</span></div></div></div></div>');function Oo(e,t){je(t,!0);const n=()=>J(rn,"$blocksPerSecond",o),r=()=>J(On,"$txPerSecond",o),s=()=>J(ts,"$networkStats",o),[o,a]=qe();let i=ze(()=>[{label:"Blocks/sec",value:n().toFixed(1),accent:!0,key:"bps"},{label:"TX/sec",value:r().toFixed(1),key:"tps"},{label:"Blue Score",value:s().blueScore>0?sr(s().blueScore):"---",key:"blue"},{label:"DAA Score",value:s().daaScore>0?sr(s().daaScore):"---",key:"daa"},{label:"Hashrate",value:s().hashrate,key:"hash"},{label:"Blocks Seen",value:String(s().blocksSeen||0),key:"seen"}]),l="",c=Q(0);ft(()=>{const f=n().toFixed(1);l&&l!==f&&Br(c),l=f});var u=Fo(),h=x(w(u),2);kn(h,21,()=>g(i),f=>f.key,(f,v)=>{var d=No(),m=w(d),p=w(m),b=x(m,2);{var F=M=>{var A=qt(),z=jt(A);po(z,()=>g(c),$=>{var S=Xo(),L=w(S);se(()=>O(L,g(v).value)),C($,S)}),C(M,A)},V=M=>{var A=Yo(),z=w(A);se(()=>{rt(A,1,`text-xl font-bold tabular-nums ${g(v).accent?"text-accent":"text-text"}`),O(z,g(v).value)}),C(M,A)};me(b,M=>{g(v).key==="bps"?M(F):M(V,!1)})}se(()=>O(p,g(v).label)),C(f,d)}),C(e,u),Ke(),a()}Ds();const zo=55,Lo=46,Dt=14;function Go(e,t){if(e.length===0)return;const n=t.height/2,r=new Map;for(const o of e){const a=o.daaScore;r.has(a)||r.set(a,[]),r.get(a).push(o)}const s=[...r.keys()].sort((o,a)=>o-a);for(let o=0;o<s.length;o++){const a=s[o],i=r.get(a),l=o*zo;for(let c=0;c<i.length;c++){const u=i[c],h=i.length-1,f=h===0?0:(c-h/2)*Lo;u.targetX=l,u.targetY=n+f}}}function Vo(e,t){const n=performance.now(),r=1-Math.pow(.001,t/1e3);for(const s of e){s.x+=(s.targetX-s.x)*r,s.y+=(s.targetY-s.y)*r;const o=n-s.addedAt;o<500?(s.opacity=Math.min(1,o/300),s.scale=.5+Math.min(.5,o/300)*.5):(s.opacity=1,s.scale=1),o<1500?s.glowIntensity=1-o/1500:s.glowIntensity=0}}function jo(e){if(e.length===0)return 0;let t=0;for(const n of e)n.targetX>t&&(t=n.targetX);return t}const P={bg:"#0a0e1a",gridLine:"rgba(31, 41, 55, 0.3)",edgeBlue:"rgba(6, 182, 212, 0.45)",edgeRed:"rgba(107, 114, 128, 0.25)",blockBlue:"#06b6d4",blockBlueFill:"#0e7490",blockRed:"#ef4444",blockRedFill:"rgba(239, 68, 68, 0.4)",selectedRing:"#f59e0b",virtualChain:"#f59e0b",virtualChainEdge:"rgba(245, 158, 11, 0.7)",mergeSetBlueHighlight:"rgba(6, 182, 212, 0.15)",mergeSetRedHighlight:"rgba(239, 68, 68, 0.15)"};function Ko(e,t,n,r,s,o){if(e.fillStyle=P.bg,e.fillRect(0,0,s,o),qo(e,r.offsetX,r.offsetY,r.zoom,s,o),e.save(),e.translate(r.offsetX,r.offsetY),e.scale(r.zoom,r.zoom),r.selectedHash){const a=n.get(r.selectedHash);a&&Uo(e,a,n)}Wo(e,t,n,r);for(const a of t)a.opacity<.05||Jo(e,a,r);e.restore(),Qo(e,s,o)}function qo(e,t,n,r,s,o){const a=80*r;if(a<20)return;e.strokeStyle=P.gridLine,e.lineWidth=.5;const i=(t%a+a)%a,l=(n%a+a)%a;e.beginPath();for(let c=i;c<s;c+=a)e.moveTo(c,0),e.lineTo(c,o);for(let c=l;c<o;c+=a)e.moveTo(0,c),e.lineTo(s,c);e.stroke()}function Uo(e,t,n){const r=Dt+10;for(const s of t.mergeSetBlues){const o=n.get(s);o&&o.opacity>.05&&(e.beginPath(),e.arc(o.x,o.y,r,0,Math.PI*2),e.fillStyle=P.mergeSetBlueHighlight,e.fill())}for(const s of t.mergeSetReds){const o=n.get(s);o&&o.opacity>.05&&(e.beginPath(),e.arc(o.x,o.y,r,0,Math.PI*2),e.fillStyle=P.mergeSetRedHighlight,e.fill())}}function Wo(e,t,n,r){const s=[],o=[],a=[];for(const i of t)if(!(i.opacity<.05))for(const l of i.parentHashes){const c=n.get(l);if(!c||c.opacity<.05)continue;const u={from:c,to:i},h=r.selectedHash===i.hash||r.selectedHash===c.hash||r.hoveredHash===i.hash||r.hoveredHash===c.hash;i.isVirtualChain&&c.isVirtualChain&&i.selectedParentHash===c.hash?a.push(u):h?o.push(u):s.push(u)}for(const i of s)vn(e,i.from,i.to,r,!1);for(const i of o)vn(e,i.from,i.to,r,!1);for(const i of a)vn(e,i.from,i.to,r,!0)}function vn(e,t,n,r,s){const o=r.selectedHash===n.hash||r.selectedHash===t.hash,a=r.hoveredHash===n.hash||r.hoveredHash===t.hash,i=o||a;e.beginPath();const l=n.x-t.x,c=Math.max(15,Math.abs(l)*.35);e.moveTo(t.x,t.y),e.bezierCurveTo(t.x+c,t.y,n.x-c,n.y,n.x,n.y),s?(e.strokeStyle=P.virtualChainEdge,e.lineWidth=3,e.globalAlpha=.85):o?(e.strokeStyle=P.selectedRing,e.lineWidth=2.5,e.globalAlpha=.9):a?(e.strokeStyle=P.blockBlue,e.lineWidth=2,e.globalAlpha=.8):(e.strokeStyle=n.isBlue?P.edgeBlue:P.edgeRed,e.lineWidth=1,e.globalAlpha=Math.min(t.opacity,n.opacity)*.6),e.stroke(),(i||s||e.globalAlpha>.3)&&(e.fillStyle=e.strokeStyle,Zo(e,t,n,c,i||s)),e.globalAlpha=1}function Zo(e,t,n,r,s){const o=n.x-r,a=n.y,i=n.x-o,l=n.y-a,c=Math.sqrt(i*i+l*l);if(c<.01)return;const u=i/c,h=l/c,f=s?6:4,v=Dt+2,d=n.x-u*v,m=n.y-h*v,p=-h,b=u;e.beginPath(),e.moveTo(d,m),e.lineTo(d-u*f-p*f*.5,m-h*f-b*f*.5),e.lineTo(d-u*f+p*f*.5,m-h*f+b*f*.5),e.closePath(),e.fill()}function Jo(e,t,n){const r=Dt*t.scale,s=n.selectedHash===t.hash,o=n.hoveredHash===t.hash;if(e.globalAlpha=t.opacity,t.glowIntensity>.02){const a=t.glowIntensity*.25,i=r+8*t.glowIntensity;e.beginPath(),e.arc(t.x,t.y,i,0,Math.PI*2),e.fillStyle=t.isBlue?`rgba(34, 211, 238, ${a})`:`rgba(239, 68, 68, ${a*.6})`,e.fill()}t.isVirtualChain&&(e.beginPath(),e.arc(t.x,t.y,r+4,0,Math.PI*2),e.strokeStyle=P.virtualChain,e.lineWidth=2,e.globalAlpha=t.opacity*.6,e.stroke(),e.globalAlpha=t.opacity),e.beginPath(),e.arc(t.x,t.y,r,0,Math.PI*2),t.isBlue?e.fillStyle=o?P.blockBlue:P.blockBlueFill:e.fillStyle=o?P.blockRed:P.blockRedFill,e.fill(),e.beginPath(),e.arc(t.x,t.y,r,0,Math.PI*2),e.strokeStyle=t.isBlue?P.blockBlue:P.blockRed,e.lineWidth=t.isVirtualChain?3:s?2.5:1.5,e.stroke(),s&&(e.beginPath(),e.arc(t.x,t.y,r+5,0,Math.PI*2),e.strokeStyle=P.selectedRing,e.lineWidth=2,e.stroke()),t.txCount>1&&(e.beginPath(),e.arc(t.x+r*.65,t.y-r*.65,3,0,Math.PI*2),e.fillStyle="#f59e0b",e.fill()),e.globalAlpha=1}function Qo(e,t,n){const r=e.createLinearGradient(0,0,60,0);r.addColorStop(0,P.bg),r.addColorStop(1,"rgba(10, 14, 26, 0)"),e.fillStyle=r,e.fillRect(0,0,60,n);const s=e.createLinearGradient(t-60,0,t,0);s.addColorStop(0,"rgba(10, 14, 26, 0)"),s.addColorStop(1,P.bg),e.fillStyle=s,e.fillRect(t-60,0,60,n);const o=e.createLinearGradient(0,0,0,40);o.addColorStop(0,P.bg),o.addColorStop(1,"rgba(10, 14, 26, 0)"),e.fillStyle=o,e.fillRect(0,0,t,40);const a=e.createLinearGradient(0,n-40,0,n);a.addColorStop(0,"rgba(10, 14, 26, 0)"),a.addColorStop(1,P.bg),e.fillStyle=a,e.fillRect(0,n-40,t,40)}function Vt(e,t,n,r){const s=(t-r.offsetX)/r.zoom,o=(n-r.offsetY)/r.zoom;for(let a=e.length-1;a>=0;a--){const i=e[a],l=s-i.x,c=o-i.y;if(l*l+c*c<Dt*Dt*2.25)return i}return null}function ei(e){return{offsetX:100,offsetY:0,zoom:1,isDragging:!1,lastMouseX:0,lastMouseY:0}}function ti(e,t){const n=t.deltaY>0?.92:1.08,r=Math.max(.3,Math.min(3,e.zoom*n)),s=t.offsetX,o=t.offsetY,a=r/e.zoom,i=s-(s-e.offsetX)*a,l=o-(o-e.offsetY)*a;return{...e,zoom:r,offsetX:i,offsetY:l}}function ni(e,t){return{...e,isDragging:!0,lastMouseX:t.clientX,lastMouseY:t.clientY}}function ri(e,t){if(!e.isDragging)return e;const n=t.clientX-e.lastMouseX,r=t.clientY-e.lastMouseY;return{...e,offsetX:e.offsetX+n,offsetY:e.offsetY+r,lastMouseX:t.clientX,lastMouseY:t.clientY}}function si(e){return{...e,isDragging:!1}}var oi=N('<div class="relative flex-1 overflow-hidden"><canvas class="block w-full h-full touch-none" style="cursor: grab;" aria-label="Kaspa BlockDAG visualization. Pan to scroll, scroll to zoom, click blocks to inspect."></canvas> <div class="absolute top-3 right-3 flex gap-2"><button class="px-3 py-1.5 text-[11px] rounded bg-surface/80 backdrop-blur border border-border text-text-dim hover:text-text transition-colors cursor-pointer"> </button></div> <div class="absolute bottom-3 left-3 text-[10px] text-text-dim font-mono bg-surface/60 backdrop-blur px-2 py-1 rounded"> </div></div>');function ii(e,t){je(t,!1);const n=()=>J(Jt,"$blocks",a),r=()=>J(Ht,"$blockMap",a),s=()=>J(yt,"$autoFollow",a),o=()=>J(nn,"$selectedBlock",a),[a,i]=qe();let l=Wt(),c=Wt(),u,h=800,f=600,v=1,d,m=null,p,b=0;Qr(()=>{u=g(l).getContext("2d"),v=window.devicePixelRatio||1,d=ei();const _=new ResizeObserver(D=>{const Y=D[0];h=Y.contentRect.width,f=Y.contentRect.height,wt(l,g(l).width=h*v),wt(l,g(l).height=f*v),wt(l,g(l).style.width=h+"px"),wt(l,g(l).style.height=f+"px")});_.observe(g(c));function B(D){const Y=b?D-b:16;b=D;const H=n(),Re=r(),Ie={height:f,offsetX:d.offsetX,offsetY:d.offsetY,zoom:d.zoom};if(Go(H,Ie),Vo(H,Y),s()&&H.length>0){const cn=-jo(H)*d.zoom+h*.7;d.offsetX+=(cn-d.offsetX)*.05}u.save(),u.scale(v,v);const Ue={offsetX:d.offsetX,offsetY:d.offsetY,zoom:d.zoom,selectedHash:o()?.hash??null,hoveredHash:m};Ko(u,H,Re,Ue,h,f),u.restore(),p=requestAnimationFrame(B)}return p=requestAnimationFrame(B),()=>{cancelAnimationFrame(p),_.disconnect()}});function F(_){_.preventDefault(),d=ti(d,_),yt.set(!1)}function V(_){d=ni(d,_),yt.set(!1)}function M(_){if(d.isDragging)d=ri(d,_);else{const B=g(l).getBoundingClientRect(),D=_.clientX-B.left,Y=_.clientY-B.top,H=Vt(n(),D,Y,{offsetX:d.offsetX,offsetY:d.offsetY,zoom:d.zoom});m=H?.hash??null,wt(l,g(l).style.cursor=H?"pointer":d.isDragging?"grabbing":"grab")}}function A(_){if(d.isDragging&&Math.abs(_.clientX-d.lastMouseX)<3&&Math.abs(_.clientY-d.lastMouseY)<3){const B=g(l).getBoundingClientRect(),D=_.clientX-B.left,Y=_.clientY-B.top,H=Vt(n(),D,Y,{offsetX:d.offsetX,offsetY:d.offsetY,zoom:d.zoom});Tt(H)}d=si(d)}function z(_){const B=g(l).getBoundingClientRect(),D=_.clientX-B.left,Y=_.clientY-B.top,H=Vt(n(),D,Y,{offsetX:d.offsetX,offsetY:d.offsetY,zoom:d.zoom});Tt(H)}let $=0,S=0,L=0,k=0,Pe=!1;function Yt(_){const B=_.touches[0],D=_.touches[1],Y=D.clientX-B.clientX,H=D.clientY-B.clientY;return Math.sqrt(Y*Y+H*H)}function Nt(_){return _.touches.length>=2?{x:(_.touches[0].clientX+_.touches[1].clientX)/2,y:(_.touches[0].clientY+_.touches[1].clientY)/2}:{x:_.touches[0].clientX,y:_.touches[0].clientY}}function sn(_){_.preventDefault(),_.touches.length===1?($=Date.now(),S=_.touches[0].clientX,L=_.touches[0].clientY,Pe=!1,d={...d,isDragging:!0,lastMouseX:_.touches[0].clientX,lastMouseY:_.touches[0].clientY},yt.set(!1)):_.touches.length===2&&(k=Yt(_),Pe=!0)}function on(_){if(_.preventDefault(),_.touches.length===1&&d.isDragging){const B=_.touches[0].clientX-d.lastMouseX,D=_.touches[0].clientY-d.lastMouseY;(Math.abs(_.touches[0].clientX-S)>5||Math.abs(_.touches[0].clientY-L)>5)&&(Pe=!0),d={...d,offsetX:d.offsetX+B,offsetY:d.offsetY+D,lastMouseX:_.touches[0].clientX,lastMouseY:_.touches[0].clientY}}else if(_.touches.length===2){const B=Yt(_);if(k>0){const D=B/k,Y=Math.max(.3,Math.min(3,d.zoom*D)),H=Nt(_),Re=g(l).getBoundingClientRect(),Ie=H.x-Re.left,Ue=H.y-Re.top,_t=Y/d.zoom;d={...d,zoom:Y,offsetX:Ie-(Ie-d.offsetX)*_t,offsetY:Ue-(Ue-d.offsetY)*_t}}k=B,Pe=!0}}function Ft(_){if(_.preventDefault(),!Pe&&Date.now()-$<300){const B=g(l).getBoundingClientRect(),D=S-B.left,Y=L-B.top,H=Vt(n(),D,Y,{offsetX:d.offsetX,offsetY:d.offsetY,zoom:d.zoom});Tt(H)}d={...d,isDragging:!1},k=0}function an(){yt.set(!0),d.zoom=1,d.offsetY=0}ko();var vt=oi(),ne=w(vt);ne.__mousedown=V,ne.__mousemove=M,ne.__mouseup=A,ne.__click=z,ne.__touchstart=sn,ne.__touchmove=on,ne.__touchend=Ft,er(ne,_=>R(l,_),()=>g(l));var pt=x(ne,2),gt=w(pt);gt.__click=an;var Ot=w(gt),zt=x(pt,2),ln=w(zt);er(vt,_=>R(c,_),()=>g(c)),se(()=>{st(gt,"aria-label",s()?"Currently following new blocks":"Click to auto-follow new blocks"),O(Ot,s()?"Following":"Auto-follow"),O(ln,`${n().length??""} blocks visible`)}),lo("wheel",ne,F),C(e,vt),Ke(),i()}Nn(["mousedown","mousemove","mouseup","click","touchstart","touchmove","touchend"]);let or=912e5,ir=915e5;function ai(){const e="0123456789abcdef";let t="";for(let n=0;n<64;n++)t+=e[Math.floor(Math.random()*16)];return t}const St=[];function li(){const e=ai(),t=Math.min(St.length,Math.floor(Math.random()*3)+1),n=[],r=[...St];for(let a=0;a<t&&r.length>0;a++){const i=Math.floor(Math.random()*Math.min(r.length,5));n.push(r.splice(i,1)[0])}St.push(e),St.length>20&&St.shift(),or++,ir++;const s=Math.random()>.15,o=n.length>0?n[0]:null;return{hash:e,parentHashes:n,blueScore:or,daaScore:ir,timestamp:Date.now(),txCount:Math.floor(Math.random()*5),isBlue:s,mergeSetBlues:n.filter(()=>Math.random()>.3),mergeSetReds:[],isVirtualChain:!1,selectedParentHash:o,x:0,y:0,targetX:0,targetY:0,opacity:0,scale:.5,glowIntensity:1,addedAt:performance.now()}}class ci{interval=null;callback=null;start(t){this.callback=t,this.interval=setInterval(()=>{this.callback&&this.callback(li())},100)}stop(){this.interval&&(clearInterval(this.interval),this.interval=null)}}const Xe="https://api.kaspa.org";class fi{mockStream=null;blockCallbacks=[];batchCallbacks=[];statsCallbacks=[];stateCallbacks=[];_state="disconnected";pollInterval=null;statsInterval=null;useMock=!1;seenHashes=new Set;lastBlueScore=0;initialFetchDone=!1;get state(){return this._state}onBlock(t){this.blockCallbacks.push(t)}onBatch(t){this.batchCallbacks.push(t)}onStats(t){this.statsCallbacks.push(t)}onStateChange(t){this.stateCallbacks.push(t)}setState(t){this._state=t,this.stateCallbacks.forEach(n=>n(t))}async connect(){this.setState("connecting");try{const t=await fetch(`${Xe}/info/virtual-chain-blue-score`);if(!t.ok)throw new Error(`API returned ${t.status}`);const n=await t.json();this.lastBlueScore=Number(n.blueScore),this.setState("connected"),console.log("[KaspaClient] Connected to REST API, blueScore:",this.lastBlueScore),this.startBlockPolling(),this.startStatsPolling()}catch(t){console.warn("[KaspaClient] REST API failed, falling back to mock:",t),this.startMock()}}async startBlockPolling(){await this.fetchRecentBlocks(),this.initialFetchDone=!0,this.pollInterval=setInterval(()=>this.fetchRecentBlocks(),1e3)}async fetchRecentBlocks(){try{const t=await fetch(`${Xe}/info/blockdag`);if(!t.ok)return;const n=await t.json(),r=n.tipHashes||[],s=Number(n.virtualDaaScore||0);if(this.initialFetchDone){const a=r.filter(i=>!this.seenHashes.has(i)).slice(0,10);if(a.length>0){const i=[];for(const l of a){const u=(await this.fetchSubgraph(l,1,15)).filter(h=>!this.seenHashes.has(h.hash));i.push(...u);for(const h of u)this.seenHashes.add(h.hash)}if(i.length>0){this.classifyBlueRed(i),this.batchCallbacks.forEach(l=>l(i));for(const l of i)this.blockCallbacks.forEach(c=>c(l));this.statsCallbacks.forEach(l=>l({blocksSeen:this.seenHashes.size}))}}}else{const o=r[0];if(o){const a=await this.fetchSubgraph(o,3,80);this.classifyBlueRed(a);for(const i of a)this.seenHashes.add(i.hash);this.batchCallbacks.forEach(i=>i(a));for(const i of a)this.blockCallbacks.forEach(l=>l(i));this.statsCallbacks.forEach(i=>i({blocksSeen:this.seenHashes.size}))}}if(this.seenHashes.size>500){const o=this.seenHashes.values();for(let a=0;a<200;a++)this.seenHashes.delete(o.next().value)}s>0&&this.statsCallbacks.forEach(o=>o({daaScore:s}))}catch(t){console.warn("[KaspaClient] Block poll failed:",t)}}async fetchSubgraph(t,n,r=80){const s=[],o=new Set;let a=[t];for(let i=0;i<=n&&a.length>0&&s.length<r;i++){const l=[],c=a.slice(0,Math.max(5,r-s.length));for(let u=0;u<c.length&&s.length<r;u+=5){const f=c.slice(u,u+5).map(async d=>{if(o.has(d)||this.seenHashes.has(d))return null;o.add(d);try{const m=await fetch(`${Xe}/blocks/${d}`);return m.ok?{data:await m.json(),hash:d}:null}catch{return null}}),v=await Promise.all(f);for(const d of v){if(!d||s.length>=r)continue;const m=this.parseRestBlock(d.data);if(m&&(s.push(m),i<n))for(const p of m.parentHashes.slice(0,3))!o.has(p)&&!this.seenHashes.has(p)&&l.push(p)}}a=l}return s}classifyBlueRed(t){const n=new Set;for(const r of t)for(const s of r.mergeSetReds)n.add(s);for(const r of t)n.has(r.hash)&&(r.isBlue=!1)}parseRestBlock(t){try{const n=t.verboseData?.hash||"";if(!n)return null;const r=[],s=t.header?.parents||t.parents||[];for(const f of s)Array.isArray(f.parentHashes)&&r.push(...f.parentHashes);const o=Number(t.verboseData?.blueScore||0),a=Number(t.header?.daaScore||0),i=Number(t.header?.timestamp||Date.now()),l=t.transactions?.length||0,c=t.verboseData?.mergeSetBluesHashes||[],u=t.verboseData?.mergeSetRedsHashes||[],h=s[0]?.parentHashes?.[0]||null;return{hash:n,parentHashes:r,blueScore:o,daaScore:a,timestamp:i,txCount:l,isBlue:!0,mergeSetBlues:c,mergeSetReds:u,isVirtualChain:!1,selectedParentHash:h,x:0,y:0,targetX:0,targetY:0,opacity:0,scale:.5,glowIntensity:1,addedAt:performance.now()}}catch{return null}}async startStatsPolling(){const t=async()=>{try{const[n,r,s]=await Promise.allSettled([fetch(`${Xe}/info/virtual-chain-blue-score`),fetch(`${Xe}/info/hashrate?stringOnly=false`),fetch(`${Xe}/info/blockdag`)]),o={isConnected:!0,isSynced:!0};if(n.status==="fulfilled"&&n.value.ok){const a=await n.value.json();o.blueScore=Number(a.blueScore||0)}if(r.status==="fulfilled"&&r.value.ok){const a=await r.value.json(),i=Number(a.hashrate||0);i>=1e6?o.hashrate=(i/1e6).toFixed(1)+" TH/s":i>=1e3?o.hashrate=(i/1e3).toFixed(1)+" GH/s":o.hashrate=i.toFixed(0)+" MH/s"}if(s.status==="fulfilled"&&s.value.ok){const a=await s.value.json(),i=Number(a.virtualDaaScore||0);i>0&&(o.daaScore=i)}this.statsCallbacks.forEach(a=>a(o))}catch(n){console.warn("[KaspaClient] Stats poll failed:",n)}};await t(),this.statsInterval=setInterval(t,5e3)}startMock(){this.useMock=!0,this.mockStream=new ci,this.mockStream.start(t=>{this.blockCallbacks.forEach(n=>n(t))}),this.setState("connected"),this.statsInterval=setInterval(()=>{const t=9+Math.random()*2;this.statsCallbacks.forEach(n=>n({blocksPerSecond:t,txPerSecond:t*.4,hashrate:(450+Math.random()*50).toFixed(1)+" TH/s",peerCount:180+Math.floor(Math.random()*40),isConnected:!0,isSynced:!0,serverVersion:"mock"}))},1e3)}async getBlockDetail(t){try{const n=await fetch(`${Xe}/blocks/${t}`);if(!n.ok)return null;const r=await n.json(),s=[],o=r.header?.parents||r.parents||[];for(const a of o)Array.isArray(a.parentHashes)&&s.push(...a.parentHashes);return{hash:r.verboseData?.hash||t,parentHashes:s,blueScore:Number(r.verboseData?.blueScore||0),daaScore:Number(r.header?.daaScore||0),timestamp:Number(r.header?.timestamp||0),isBlue:!0,nonce:String(r.header?.nonce||"0"),bits:Number(r.header?.bits||0),version:Number(r.header?.version||0),transactions:(r.transactions||[]).map(a=>({id:a.verboseData?.transactionId||"unknown",inputs:a.inputs?.length||0,outputs:a.outputs?.length||0,amount:0}))}}catch(n){return console.warn("[KaspaClient] getBlockDetail failed:",n),null}}disconnect(){this.mockStream&&(this.mockStream.stop(),this.mockStream=null),this.pollInterval&&(clearInterval(this.pollInterval),this.pollInterval=null),this.statsInterval&&(clearInterval(this.statsInterval),this.statsInterval=null),this.setState("disconnected")}}const Je=new fi;var ui=N("<button> </button>"),di=N('<div class="text-[10px] text-text-dim">Loading...</div>'),hi=N('<a target="_blank" rel="noopener" class="text-[10px] font-mono px-1.5 py-0.5 rounded bg-tx/10 text-tx hover:bg-tx/25 transition-colors no-underline"> <span class="text-text-dim"> </span></a>'),vi=N('<div class="flex flex-wrap gap-1 max-h-16 overflow-y-auto"></div>'),pi=N('<div class="text-[10px] text-text-dim">Coinbase only</div>'),gi=N('<div class="min-h-44 max-h-64 bg-surface/80 backdrop-blur border-t border-border flex flex-col animate-fade-in overflow-hidden"><div class="flex items-center justify-between px-4 py-2 border-b border-border"><h3 class="text-xs font-semibold text-text-dim uppercase tracking-wider">Block Inspector</h3> <div class="flex items-center gap-3"><button class="text-[10px] text-accent hover:text-accent-glow transition-colors cursor-pointer bg-transparent border-none px-2 py-0.5 rounded border border-border hover:border-accent">View on Explorer &#8599;</button> <button aria-label="Close block inspector" class="text-text-dim hover:text-text transition-colors text-sm cursor-pointer p-1">&times;</button></div></div> <div class="flex-1 px-4 py-2 grid grid-cols-2 md:grid-cols-4 gap-3 overflow-y-auto"><div class="col-span-2"><div class="text-[10px] text-text-dim uppercase mb-0.5">Block Hash</div> <button class="text-xs font-mono text-accent hover:text-accent-glow transition-colors cursor-pointer bg-transparent border-none p-0" title="Click to copy full hash"> </button></div> <div><div class="text-[10px] text-text-dim uppercase mb-0.5">Blue Score</div> <div class="text-sm font-bold tabular-nums text-text"> </div></div> <div><div class="text-[10px] text-text-dim uppercase mb-0.5">DAA Score</div> <div class="text-sm font-bold tabular-nums text-text"> </div></div> <div><div class="text-[10px] text-text-dim uppercase mb-0.5">Timestamp</div> <div class="text-sm font-mono text-text"> </div></div> <div><div class="text-[10px] text-text-dim uppercase mb-0.5">Transactions</div> <div> </div></div> <div><div class="text-[10px] text-text-dim uppercase mb-0.5">Type</div> <div> </div></div> <div><div class="text-[10px] text-text-dim uppercase mb-0.5">Nonce</div> <div class="text-sm font-mono text-text-dim"><!></div></div> <div class="col-span-2"><div class="text-[10px] text-text-dim uppercase mb-0.5"> </div> <div class="flex flex-wrap gap-1"></div></div> <div class="col-span-2"><div class="text-[10px] text-text-dim uppercase mb-0.5">Transaction IDs</div> <!></div></div></div>');function _i(e,t){je(t,!0);const n=()=>J(nn,"$selectedBlock",o),r=()=>J(Ht,"$blockMap",o),s=()=>J(es,"$showInspector",o),[o,a]=qe();let i=Q(null),l=Q(!1);ft(()=>{const p=n();p?(R(l,!0),R(i,null),Je.getBlockDetail(p.hash).then(b=>{R(i,b,!0),R(l,!1)}).catch(()=>{R(l,!1)})):R(i,null)});function c(){Tt(null)}function u(){n()&&navigator.clipboard.writeText(n().hash)}function h(p){const b=r().get(p);b&&Tt(b)}function f(){n()&&window.open(`https://explorer.kaspa.org/blocks/${n().hash}`,"_blank")}var v=qt(),d=jt(v);{var m=p=>{var b=gi(),F=w(b),V=x(w(F),2),M=w(V);M.__click=f;var A=x(M,2);A.__click=c;var z=x(F,2),$=w(z),S=x(w($),2);S.__click=u;var L=w(S),k=x($,2),Pe=x(w(k),2),Yt=w(Pe),Nt=x(k,2),sn=x(w(Nt),2),on=w(sn),Ft=x(Nt,2),an=x(w(Ft),2),vt=w(an),ne=x(Ft,2),pt=x(w(ne),2),gt=w(pt),Ot=x(ne,2),zt=x(w(Ot),2),ln=w(zt),_=x(Ot,2),B=x(w(_),2),D=w(B);{var Y=j=>{var W=fn("...");C(j,W)},H=j=>{var W=qt(),Be=jt(W);{var ie=Z=>{var ye=fn();se(()=>O(ye,g(i).nonce)),C(Z,ye)},bt=Z=>{var ye=fn("---");C(Z,ye)};me(Be,Z=>{g(i)?Z(ie):Z(bt,!1)},!0)}C(j,W)};me(D,j=>{g(l)?j(Y):j(H,!1)})}var Re=x(_,2),Ie=w(Re),Ue=w(Ie),_t=x(Ie,2);kn(_t,5,()=>n().parentHashes,Wn,(j,W)=>{const Be=ze(()=>r().has(g(W)));var ie=ui();ie.__click=()=>h(g(W));var bt=w(ie);se(Z=>{rt(ie,1,`text-[10px] font-mono px-1.5 py-0.5 rounded transition-colors cursor-pointer border-none ${g(Be)?"bg-accent/15 text-accent hover:bg-accent/30":"bg-border/30 text-text-dim"}`),st(ie,"title",g(W)),ie.disabled=!g(Be),O(bt,Z)},[()=>hn(g(W),6)]),C(j,ie)});var cn=x(Re,2),ns=x(w(cn),2);{var rs=j=>{var W=di();C(j,W)},ss=j=>{var W=qt(),Be=jt(W);{var ie=Z=>{var ye=vi();kn(ye,21,()=>g(i).transactions,Wn,(os,mt)=>{var Lt=hi(),zn=w(Lt),is=x(zn),as=w(is);se(ls=>{st(Lt,"href",`https://explorer.kaspa.org/txs/${g(mt).id??""}`),st(Lt,"title",g(mt).id),O(zn,`${ls??""} `),O(as,`(${g(mt).inputs??""}in/${g(mt).outputs??""}out)`)},[()=>hn(g(mt).id,6)]),C(os,Lt)}),C(Z,ye)},bt=Z=>{var ye=pi();C(Z,ye)};me(Be,Z=>{g(i)&&g(i).transactions.length>0?Z(ie):Z(bt,!1)},!0)}C(j,W)};me(ns,j=>{g(l)?j(rs):j(ss,!1)})}se((j,W,Be,ie)=>{O(L,j),O(Yt,W),O(on,Be),O(vt,ie),rt(pt,1,`text-sm font-bold tabular-nums ${n().txCount>0?"text-tx":"text-text-dim"}`),O(gt,n().txCount),rt(zt,1,`text-sm font-bold ${n().isBlue?"text-accent":"text-block-red"}`),O(ln,n().isBlue?"Blue (GHOSTDAG)":"Red"),O(Ue,`Parents (${n().parentHashes.length??""})`)},[()=>hn(n().hash,16),()=>n().blueScore.toLocaleString(),()=>n().daaScore.toLocaleString(),()=>Io(n().timestamp)]),C(p,b)};me(d,p=>{s()&&n()&&p(m)})}C(e,v),Ke(),a()}Nn(["click"]);var bi=N('<div class="px-4 py-2 bg-surface/40 border-t border-border text-xs text-text-dim"><span class="text-accent font-semibold mr-1">GHOSTDAG:</span> </div>');function mi(e,t){je(t,!0);const n=()=>J(nn,"$selectedBlock",r),[r,s]=qe();let o=Q(0);ft(()=>{const c=setInterval(()=>{Br(o)},8e3);return()=>clearInterval(c)});let a=ze(()=>{const c=n();if(c){const f=c.mergeSetBlues.length,v=c.mergeSetReds.length,d=c.parentHashes.length;return c.isVirtualChain?`Virtual chain block. Merged ${f} blue + ${v} red blocks from ${d} parents.`:`${c.isBlue?"Blue":"Red"} block with ${d} parents. ${f>0?`Merged ${f} blue blocks.`:""}`}const u=["GHOSTDAG selects a 'blue' set of well-connected blocks, ordering them by DAA score.","Unlike Bitcoin's longest chain, Kaspa keeps ALL blocks -- even 'red' ones contribute.","The virtual chain (highlighted path) is the selected parent chain through the DAG.","Blocks with the same DAA score were mined in parallel by different miners."],h=g(o)%u.length;return u[h]});var i=bi(),l=x(w(i));se(()=>O(l,` ${g(a)??""}`)),C(e,i),Ke(),s()}var wi=N('<div class="h-10 bg-surface/60 backdrop-blur border-t border-border flex items-center justify-center gap-6 px-4"><span class="text-[10px] text-text-dim uppercase tracking-wider">Confirmation Speed</span> <div class="flex items-center gap-1.5"><div class="w-2 h-2 rounded-full bg-accent"></div> <span class="text-xs font-bold text-accent tabular-nums"> </span></div> <div class="flex items-center gap-1.5"><div class="w-2 h-2 rounded-full bg-purple-500/60"></div> <span class="text-xs text-text-dim tabular-nums">Ethereum: ~12s</span></div> <div class="flex items-center gap-1.5"><div class="w-2 h-2 rounded-full bg-orange-500/60"></div> <span class="text-xs text-text-dim tabular-nums">Bitcoin: ~600s</span></div></div>');function xi(e,t){je(t,!0);const n=()=>J(rn,"$blocksPerSecond",r),[r,s]=qe();let o=ze(()=>Math.max(.1,1/Math.max(1,n())).toFixed(2));var a=wi(),i=x(w(a),2),l=x(w(i),2),c=w(l);se(()=>O(c,`Kaspa: ${g(o)??""}s`)),C(e,a),Ke(),s()}var yi=N('<aside aria-label="Network statistics"><!></aside>'),Si=N('<div class="absolute inset-0 flex items-center justify-center bg-bg/80 backdrop-blur-sm z-10" role="status" aria-live="polite"><div class="text-center animate-fade-in"><div class="w-12 h-12 rounded-full border-2 border-accent border-t-transparent animate-spin mx-auto mb-4" aria-hidden="true"></div> <div class="text-text text-lg font-semibold">Connecting to Kaspa Network</div> <div class="text-text-dim text-sm mt-1">Fetching live BlockDAG data...</div></div></div>'),ki=N('<div class="w-full h-full flex flex-col bg-bg"><!> <div class="flex-1 flex min-h-0 relative"><!> <main class="flex-1 min-w-0"><!></main> <!></div> <!> <!> <!></div>');function Ei(e,t){je(t,!0);const n=()=>J(Cn,"$connectionState",s),r=()=>J(Jt,"$blocks",s),[s,o]=qe();let a=Q(!0),i=Q(!1);function l(){R(i,window.innerWidth<768),g(i)&&R(a,!1)}Qr(()=>{l(),window.addEventListener("resize",l),Je.onBlock(k=>{Ro(k)}),Je.onStats(k=>{dn(k)}),Je.onStateChange(k=>{Cn.set(k)});const S=rn.subscribe(k=>dn({blocksPerSecond:k})),L=On.subscribe(k=>dn({txPerSecond:k}));return Je.connect(),()=>{Je.disconnect(),S(),L(),window.removeEventListener("resize",l)}});function c(){R(a,!g(a))}let u=ze(()=>n()==="connecting"||n()==="disconnected"),h=ze(()=>r().length>0);var f=ki(),v=w(f);$o(v,{get isMobile(){return g(i)},toggleStats:c,get showStats(){return g(a)}});var d=x(v,2),m=w(d);{var p=S=>{var L=yi(),k=w(L);Oo(k,{}),C(S,L)};me(m,S=>{g(a)&&S(p)})}var b=x(m,2),F=w(b);ii(F,{});var V=x(b,2);{var M=S=>{var L=Si();C(S,L)};me(V,S=>{g(u)&&!g(h)&&S(M)})}var A=x(d,2);_i(A,{});var z=x(A,2);mi(z,{});var $=x(z,2);xi($,{}),C(e,f),Ke(),o()}fo(Ei,{target:document.getElementById("app")});
